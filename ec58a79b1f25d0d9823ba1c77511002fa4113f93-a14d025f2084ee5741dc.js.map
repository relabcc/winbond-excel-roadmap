{"version":3,"file":"ec58a79b1f25d0d9823ba1c77511002fa4113f93-a14d025f2084ee5741dc.js","mappings":"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","sources":["webpack://styled-gatsby-starter/./node_modules/core-js/internals/classof.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/create-property.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/function-bind-context.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/get-iterator-method.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/get-iterator.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/iterate.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/iterator-close.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/iterators.js","webpack://styled-gatsby-starter/./node_modules/core-js/internals/to-string-tag-support.js","webpack://styled-gatsby-starter/./node_modules/core-js/modules/es.object.from-entries.js","webpack://styled-gatsby-starter/./src/containers/DramDataTable.js","webpack://styled-gatsby-starter/./src/utils/sortSize.js","webpack://styled-gatsby-starter/./src/containers/PortfolioPage/PortfolioTableRender.js","webpack://styled-gatsby-starter/./src/containers/PortfolioPage/CompactPortfolio.js","webpack://styled-gatsby-starter/./src/containers/PortfolioPage/index.js","webpack://styled-gatsby-starter/./src/containers/DramDownloader.js","webpack://styled-gatsby-starter/./src/containers/DramPage.js","webpack://styled-gatsby-starter/./node_modules/date-fns/esm/getYear/index.js","webpack://styled-gatsby-starter/./node_modules/lodash/_asciiToArray.js","webpack://styled-gatsby-starter/./node_modules/lodash/_baseFlatten.js","webpack://styled-gatsby-starter/./node_modules/lodash/_baseSet.js","webpack://styled-gatsby-starter/./node_modules/lodash/_baseSlice.js","webpack://styled-gatsby-starter/./node_modules/lodash/_castSlice.js","webpack://styled-gatsby-starter/./node_modules/lodash/_createCaseFirst.js","webpack://styled-gatsby-starter/./node_modules/lodash/_createRound.js","webpack://styled-gatsby-starter/./node_modules/lodash/_isFlattenable.js","webpack://styled-gatsby-starter/./node_modules/lodash/_stringToArray.js","webpack://styled-gatsby-starter/./node_modules/lodash/_unicodeToArray.js","webpack://styled-gatsby-starter/./node_modules/lodash/compact.js","webpack://styled-gatsby-starter/./node_modules/lodash/concat.js","webpack://styled-gatsby-starter/./node_modules/lodash/floor.js","webpack://styled-gatsby-starter/./node_modules/lodash/isNumber.js","webpack://styled-gatsby-starter/./node_modules/lodash/set.js","webpack://styled-gatsby-starter/./node_modules/lodash/upperFirst.js"],"sourcesContent":["var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + ' is not iterable');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","module.exports = {};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","import React, { useMemo, forwardRef, useRef, useEffect, useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport isObject from 'lodash/isObject'\r\nimport set from 'lodash/set';\r\nimport isNumber from 'lodash/isNumber';\r\nimport { concat, range } from 'lodash';\r\n\r\nimport Box from '../components/Box'\r\nimport Flex from '../components/Flex'\r\nimport Text from '../components/Text';\r\nimport parseDate from 'utils/parseDate';\r\nimport PageTitle from './PageTitle';\r\nimport DramTimeline from './DramTimeline';\r\n\r\nconst StyledTable = styled.table`\r\n  table-layout: fixed;\r\n  width: 100%;\r\n  th,\r\n  td {\r\n    white-space: pre-wrap;\r\n    padding: 0.5rem;\r\n    border: 3px solid white;\r\n    line-height: 1.25;\r\n  }\r\n`\r\n\r\n// const IndeterminateCheckbox = forwardRef(\r\n//   ({ indeterminate, ...rest }, ref) => {\r\n//     const defaultRef = useRef()\r\n//     const resolvedRef = ref || defaultRef\r\n\r\n//     useEffect(() => {\r\n//       resolvedRef.current.indeterminate = indeterminate\r\n//     }, [resolvedRef, indeterminate])\r\n\r\n//     return (\r\n//       <>\r\n//         <input type=\"checkbox\" ref={resolvedRef} {...rest} />\r\n//       </>\r\n//     )\r\n//   }\r\n// )\r\n\r\nlet group = []\r\nconst replaceSup = (t) => String(t).replace(/\\[([^[]+)\\]/g, (...d) => `<sup>${d[1]}</sup>`)\r\nconst noteBg = { mp: '#A4CCDB', cs: '#4D9185', es: '#DC888A', sample: '#2F6EBA' }\r\nconst bodybg = ['#B1B1B2', '#CACACA', '#E8E8E8']\r\nconst noteFunc = (noteArr) => {\r\n  const groups = noteArr.reduce((g, n) => {\r\n    if (n.startsWith('-')) {\r\n      let lastGroup = g[g.length - 1]\r\n      if (!lastGroup) {\r\n        g.push([''])\r\n        lastGroup = g[g.length - 1]\r\n      }\r\n      lastGroup[1] = lastGroup[1] || []\r\n      lastGroup[1].push(n.substring(1))\r\n    } else {\r\n      g.push([n])\r\n    }\r\n    return g\r\n  }, [])\r\n  return (\r\n    <Box as=\"ul\" pl=\"1em\">\r\n      {groups.map((g, i) => (\r\n        <li key={i}>\r\n          <span dangerouslySetInnerHTML={{ __html: replaceSup(g[0]) }} />\r\n          {g[1] && noteFunc(g[1])}\r\n        </li>\r\n      ))}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst DramDataTable = ({\r\n  data,\r\n  notes,\r\n  bodyData,\r\n  quater,\r\n  year,\r\n  type,\r\n  headerRow,\r\n  headerKeys,\r\n  noteText,\r\n  feature,\r\n  name,\r\n  scale,\r\n}) => {\r\n  const [nmGroup, setNmGroup] = useState([]);\r\n  const numberIndex = useMemo(() => headerRow.reduce((res, d, i) => {\r\n    if(!res && isNumber(d.Header)) {\r\n      res = i\r\n    }\r\n    return res\r\n  }, 0), [headerRow])\r\n  const headerWidth = useMemo(() => name === 'mcp' ? ['7rem', '11.75rem', '11.75rem', '11.75rem'] : numberIndex > 3 ? ['6.9rem', '6.9rem', '10.4rem', '13.8rem'] : ['9rem', '12.75rem', '16.25rem'] ,[numberIndex])\r\n  const tableRef = useRef()\r\n  const timelineData = useMemo(() => {\r\n    const dateGetter = notes.map(key => headerKeys.find(d => d.Header === key))\r\n    if (dateGetter.some(d => !d)) return []\r\n    const timeline = data.map(d => dateGetter.map(({ columns }) => columns.map(({ accessor }, i) => {\r\n      const dStr = accessor(d)\r\n      return parseDate(dStr, i)\r\n    })))\r\n    return timeline\r\n  }, [data, headerKeys, notes])\r\n  // const rowSpans = useMemo(() => bodyData?.map(d => d[0]).reverse().reduce((res, h, i, { length }) => {\r\n  //   if (h) {\r\n  //     if (group.length) {\r\n  //       set(res, [length - i - 1], group.length + 1)\r\n  //       group = []\r\n  //     } else {\r\n  //       set(res, [length - i - 1], 1)\r\n  //     }\r\n  //   } else {\r\n  //     group.push(i)\r\n  //   }\r\n  //   return res\r\n  // }, {}), [bodyData])\r\n  const rowSpansfuc = (key) => bodyData?.map(d => d[key]).reverse().reduce((res, h, i, { length }) => {\r\n    if (h) {\r\n      if (group.length) {\r\n        set(res, [length - i - 1], group.length + 1)\r\n        group = []\r\n      } else {\r\n        set(res, [length - i - 1], 1)\r\n      }\r\n    } else {\r\n      group.push(i)\r\n    }\r\n    return res\r\n  }, {})\r\n  // console.log(data)\r\n  useEffect(() => {\r\n    if (tableRef.current) {\r\n      const masterBox = tableRef.current.getBoundingClientRect()\r\n      const cells = tableRef.current.querySelectorAll('.timeline-cell[data-nm')\r\n      if (cells.length) {\r\n        const cellGroup = []\r\n        cells.forEach(cell => {\r\n          const nm = cell.dataset.nm\r\n          const boundBox = cell.getBoundingClientRect()\r\n          const boxCenter = (boundBox.top + boundBox.height / 2 - masterBox.top) / scale\r\n          let currentGroup = cellGroup[cellGroup.length - 1]\r\n          if (nm !== currentGroup?.nm) {\r\n            currentGroup = { nm, left: (boundBox.right - masterBox.left) / scale }\r\n            cellGroup.push(currentGroup)\r\n          }\r\n          currentGroup.top = Math.min(currentGroup.top || boxCenter, boxCenter)\r\n          currentGroup.bottom = Math.max(currentGroup.bottom || boxCenter, boxCenter)\r\n        })\r\n        setNmGroup(cellGroup)\r\n      }\r\n    }\r\n  }, [bodyData])\r\n  // console.log(concat(bodybg, range(3).fill('#E8E8E8')))\r\n  return (\r\n    <Box position=\"relative\" pl=\"3.75em\" pr=\"1em\" width=\"1920px\" height=\"1080px\" ref={tableRef}>\r\n      {nmGroup.length > 0 && (\r\n        <Box.FullAbsolute>\r\n          {nmGroup.map(({ nm, top, bottom, left }, i) => (\r\n            <Flex\r\n              key={nm + i}\r\n              position=\"absolute\"\r\n              style={{ top, height: bottom - top, left }}\r\n              border=\"1px solid\"\r\n              borderLeft=\"none\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Box\r\n                style={{\r\n                  writingMode: 'vertical-rl',\r\n                  textRrientation: 'mixed',\r\n                }}\r\n                transform=\"translateX(120%)\"\r\n              >\r\n                {nm}\r\n              </Box>\r\n            </Flex>\r\n          ))}\r\n        </Box.FullAbsolute>\r\n      )}\r\n      <PageTitle>{data[0][0]}</PageTitle>\r\n      <Flex pt=\"7em\">\r\n        <StyledTable flex={1} style={{ position: \"relative\", background: 'linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3))' }}>\r\n          <thead style={{ fontSize: '1.25rem' }}>\r\n            <tr>\r\n              {headerRow.map(({ Header, columns }, i) => (\r\n                <Box as=\"th\" style={{ borderRight: i == (numberIndex - 1) && '10px solid' }} height=\"44px\" width={headerWidth[i]} color=\"white\" bg={isNumber(Header) ? '#C63B38' : '#234B69'} rowSpan={!columns && 2} colSpan={columns?.length || 1} key={i}>{Header}</Box>\r\n              ))}\r\n            </tr>\r\n            <tr>\r\n              {headerRow.map(({ columns }, k) => columns?.map(({ Header }, i) => (\r\n                <Box as=\"th\" style={{ borderRight: (name == 'mcp' && k == 3 && i == 1) && '10px solid white' }} height=\"44px\" bg=\"#CACACA\" width=\"68px\" key={i}>{Header}</Box>\r\n              )))}\r\n            </tr>\r\n          </thead>\r\n          {/* Apply the table body props */}\r\n          <tbody style={{ fontSize: '19px', height: '23em' }}>\r\n            {bodyData.map((body, i) => (\r\n              <Box as=\"tr\" key={i}>\r\n                {body.map((d, k) => d && (isObject(d) ? (\r\n                  <Box\r\n                    as=\"td\"\r\n                    colSpan={d.col}\r\n                    // style={{ background: 'linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3))' }}\r\n                    key={k}\r\n                    position=\"relative\"\r\n                    overflow=\"visible\"\r\n                    className=\"timeline-cell\"\r\n                    data-nm={d.nm || undefined}\r\n                    style={rowSpansfuc(0)[i] ? { borderBottom: 'none', borderLeft: '10px solid white' } : { borderTop: 'none', borderBottom: 'none', borderLeft: '10px solid white' }}\r\n                  >\r\n                    <DramTimeline\r\n                      data={timelineData[i]}\r\n                      startYear={year}\r\n                      startQuarter={type === 3 ? quater : 1}\r\n                      yearSpan={type}\r\n                      colors={notes.map(n => noteBg[n.toLocaleLowerCase()])}\r\n                    />\r\n                    <Box position=\"relative\" pl=\"8em\">\r\n                      <span\r\n                        dangerouslySetInnerHTML={{ __html: replaceSup(d.text) }}\r\n                      />\r\n                      {d.nrnd && <Text.Inline fontWeight=\"bold\" color=\"#234b69\" pl=\"1em\">*NRND</Text.Inline>}\r\n                    </Box>\r\n                  </Box>\r\n                ) : (\r\n                  <Box\r\n                    as=\"td\"\r\n                    fontWeight={!k && 'bold'}\r\n                    bg={name === 'mcp' ? concat(bodybg, range(3).fill('#E8E8E8'))[k]  : concat(range(numberIndex - bodybg.length).fill('#B1B1B2'), bodybg)[k]}\r\n                    rowSpan={rowSpansfuc(k)[i]}\r\n                    // style={{ borderRight: (k - (headerRow.length - body.length)) == (numberIndex - 1) && '10px solid white'}}\r\n                    key={k}\r\n                  >\r\n                    <Flex\r\n                      minHeight=\"2.25rem\"\r\n                      alignItems=\"center\"\r\n                      justifyContent={name === 'mcp' ? 'center' : k === (numberIndex - 1) ? 'flex-start' : 'center'}\r\n                      px={name === 'mcp' ? '0' : \"1em\"}\r\n                    ><Box dangerouslySetInnerHTML={{ __html: replaceSup(d) }} /></Flex>\r\n                  </Box>\r\n                )))}\r\n              </Box>\r\n            ))}\r\n          </tbody>\r\n        </StyledTable>\r\n        <Flex flexDirection=\"column\" ml=\"4em\" width=\"22.375em\">\r\n          <Box border=\"1.5px solid transparent\" bg=\"transparent\" p=\"0.5rem\">　</Box>\r\n          <Flex mb=\"1em\">\r\n            {notes.map((d, i) => (\r\n              <Box fontSize=\"1.25rem\" width=\"100%\" fontWeight=\"bold\" textAlign=\"center\" bg={noteBg[d.toLocaleLowerCase()]} color=\"white\" p=\"0.375rem 0.5rem\" key={i}>{d}</Box>\r\n            ))}\r\n          </Flex>\r\n          {!headerRow.some(d => d.Header === 'Description') && feature[0] && (\r\n            <>\r\n              <Box bg=\"#9FA0A0\" fontSize=\"1.125rem\" textAlign=\"center\" color=\"white\" p=\"0.5rem\" fontWeight=\"bold\">FEATURE</Box>\r\n              <Box p=\"0.5rem\" style={{ background: 'linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3))' }}>\r\n                {feature[0] && noteFunc(feature)}\r\n              </Box>\r\n            </>\r\n          )}\r\n          <Box bg=\"#9FA0A0\" fontSize=\"1.125rem\" textAlign=\"center\" color=\"white\" p=\"0.5rem\" fontWeight=\"bold\">NOTE</Box>\r\n          <Box flex={1} p=\"0.5rem\" style={{ background: 'linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3))' }}>\r\n            {noteText[0] && noteFunc(noteText)}\r\n          </Box>\r\n        </Flex>\r\n      </Flex>\r\n    </Box>\r\n  )\r\n};\r\n\r\nexport default DramDataTable;\r\n","\r\nconst sizes = {\r\n  mb: 1,\r\n  gb: 1000,\r\n}\r\n\r\nconst getSize = s => {\r\n  const n = s.replace(/\\D/g, '')\r\n  const unit = s.replace(/[0-9\\s]/g, '')\r\n\r\n  return n * sizes[unit.toLowerCase()]\r\n}\r\n\r\nconst sortSize = arr => arr.sort((a, b) => getSize(b) - getSize(a))\r\n\r\nexport default sortSize\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react'\r\nimport groupBy from 'lodash/groupBy'\r\nimport last from 'lodash/last'\r\nimport styled from 'styled-components'\r\n\r\nimport Box from 'components/Box'\r\nimport Flex from 'components/Flex'\r\nimport sortSize from 'utils/sortSize'\r\nimport Text from 'components/Text'\r\n\r\nimport PageSimulator from '../PageSimulator'\r\nimport NoteBox from '../NoteBox'\r\n\r\nconst getGroupItems = (data, groupMap, groupKey) => Object.keys(groupBy(data, groupKey)).reduce((all, key) => {\r\n  const index = groupMap?.[key] || 1\r\n  all[index - 1] = all[index - 1] || []\r\n  all[index - 1].push(key)\r\n  return all\r\n}, [])\r\n\r\nconst joinName = (names, glue) => {\r\n  if (names.length === 1) return names[0]\r\n  const units = names.map(n => n.replace(/[0-9.]/g, ''))\r\n  const commonUnit = units.reduce((all, u) => {\r\n    if (!all) return u\r\n    let s = 0\r\n    while (!u.substring(0, u.length - s).includes(all) && s < u.length) {\r\n      s += 1\r\n    }\r\n    return all.substring(0, all.length - s)\r\n  })\r\n\r\n  return `${[names[0], last(names)].map(n => n.replace(commonUnit, '')).join(glue)} ${commonUnit}`\r\n}\r\n\r\nconst CardCell = ({ children, ...props }) => (\r\n  <Flex\r\n    border=\"1px solid #efefef\"\r\n    px=\"4px\"\r\n    py=\"2px\"\r\n    alignItems=\"center\"\r\n    {...props}\r\n  >\r\n    <Text.Mono>{children}</Text.Mono>\r\n  </Flex>\r\n)\r\n\r\nconst DataCards = ({\r\n  groupData,\r\n  mainKey,\r\n  timeKey,\r\n  colGroupItem,\r\n  colGroupKey,\r\n  rowGroupKey,\r\n  timeColor,\r\n  item,\r\n}) => {\r\n  const scopedData = useMemo(() => groupData.filter(d => colGroupItem.includes(d[colGroupKey]) && d[rowGroupKey] === item), [colGroupItem, colGroupKey, groupData, item, rowGroupKey])\r\n  const n = item.replace(/\\D/g, '')\r\n  const unit = item.replace(/[0-9\\s]/g, '')\r\n  return scopedData.length > 0 && (\r\n    <Flex my=\"0.5em\">\r\n      <Flex\r\n        width=\"74px\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        bg=\"#234b69\"\r\n        color=\"white\"\r\n        border=\"1px solid #efefef\"\r\n      >\r\n        <Box textAlign=\"center\" fontSize=\"16px\" lineHeight=\"1.25\" fontWeight=\"500\" whiteSpace=\"nowrap\">\r\n          {n}<br />{unit}\r\n        </Box>\r\n      </Flex>\r\n      <Flex flex=\"1\" flexDirection=\"column\">\r\n        {scopedData.map((d, m) => (\r\n          <Flex\r\n            key={m}\r\n            fontSize=\"16px\"\r\n            flex=\"1\"\r\n          >\r\n            <CardCell\r\n              flex=\"1\"\r\n              bg=\"white\"\r\n              fontWeight=\"900\"\r\n              lineHeight=\"2\"\r\n            >{d[mainKey]}</CardCell>\r\n            {d[timeKey] && (\r\n              <CardCell\r\n                fontWeight=\"500\"\r\n                bg={timeColor}\r\n                color=\"white\"\r\n                width=\"64px\"\r\n                justifyContent=\"center\"\r\n              >{d[timeKey]}</CardCell>\r\n            )}\r\n          </Flex>\r\n        ))}\r\n      </Flex>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nconst GradientGroup = styled(Box)`\r\n  position: relative;\r\n  ${props => props['data-name'] && `\r\n    &::before {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 4px;\r\n      bottom: 0;\r\n      border-left: 1px solid black;\r\n    }\r\n    &::after {\r\n      content: attr(data-name);\r\n      font-size: 15px;\r\n      display: block;\r\n      position: absolute;\r\n      left: -24px;\r\n      top: 50%;\r\n      writing-mode: vertical-lr;\r\n      text-orientation: mixed;\r\n      transform: rotate(180deg) translateY(50%);\r\n      font-weight: 500;\r\n      white-space: nowrap;\r\n    }\r\n  `}\r\n`\r\n\r\nconst PortfolioTableRender = ({\r\n  data,\r\n  colGroup,\r\n  colGroupKey,\r\n  rowGroup,\r\n  rowGroupKey,\r\n  mainKey,\r\n  timeKey,\r\n  timeColor,\r\n  name,\r\n}) => {\r\n  const scaleRef = useRef()\r\n  // useEffect(() => {\r\n  //   const groupHeight = {}\r\n  //   const groups = {}\r\n  //   const scaleRes = /scale\\((\\d+(\\.\\d+)?)\\)/.exec(scaleRef.current?.style.transform)\r\n  //   scaleRef.current?.querySelectorAll('.same-height').forEach(el => {\r\n  //     const id = el.dataset.id\r\n  //     el.style.minHeight = 'auto'\r\n  //     const { height } = el.getBoundingClientRect()\r\n  //     groupHeight[id] = Math.max(groupHeight[id] || 0, height / (scaleRes?.[1] || 1))\r\n  //     groups[id] = groups[id] || []\r\n  //     groups[id].push(el)\r\n  //   })\r\n\r\n  //   Object.keys(groups).forEach(id => {\r\n  //     groups[id].forEach(el => {\r\n  //       el.style.minHeight = `${groupHeight[id]}px`\r\n  //     })\r\n  //   })\r\n\r\n  // }, [JSON.stringify({ colGroup, rowGroup, data })])\r\n\r\n  return (\r\n    <PageSimulator ref={scaleRef} name={`${name}-portfolio`}>\r\n      <Flex\r\n        pl=\"92px\"\r\n        pr=\"76px\"\r\n        pt=\"126px\"\r\n        height=\"1040px\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Flex flexDirection=\"column\" alignItems=\"flex-end\">\r\n          <Flex.HStack spacing=\"34px\" flex=\"1\">\r\n            {data.map(([groupName, groupData], i) => {\r\n              const colGroupItems = getGroupItems(groupData, colGroup[groupName], colGroupKey)\r\n              const rowGroupItems = getGroupItems(groupData, rowGroup[groupName], rowGroupKey)\r\n              return (\r\n                <Flex key={i} flexDirection=\"column\" background=\"linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3))\">\r\n                  <Box\r\n                    fontSize=\"25px\"\r\n                    bg=\"#c63b38\"\r\n                    color=\"white\"\r\n                    textAlign=\"center\"\r\n                    py=\"6px\"\r\n                    border=\"2px solid white\"\r\n                    fontWeight=\"900\"\r\n                  >\r\n                    {groupName}\r\n                  </Box>\r\n                  <Flex flex=\"1\">\r\n                    {colGroupItems.map((colGroupItem, j) => {\r\n                      return (\r\n                        <Flex key={j} width=\"275px\" flexDirection=\"column\">\r\n                          <Box\r\n                            bg=\"#cacaca\"\r\n                            textAlign=\"center\"\r\n                            fontSize=\"23px\"\r\n                            py=\"7px\"\r\n                            border=\"2px solid white\"\r\n                            borderLeftWidth={j > 0 && '6px'}\r\n                            fontWeight=\"bold\"\r\n                          >\r\n                            {joinName(colGroupItem, '/')}\r\n                          </Box>\r\n                          {rowGroupItems.map((rowGroupItem, k) => {\r\n                            const sorted = sortSize(rowGroupItem)\r\n                            return (\r\n                              <GradientGroup\r\n                                key={k}\r\n                                px=\"0.5em\"\r\n                                border=\"2px solid white\"\r\n                                borderLeftWidth={j > 0 && '6px'}\r\n                                className=\"same-height\"\r\n                                data-id={`${k + 1}/${rowGroupItems.length}`}\r\n                                data-name={j === 0 && joinName([...sorted].reverse(), ' - ')}\r\n                                flex=\"1\"\r\n                                // flex={k + 1 === rowGroupItems.length && '1'}\r\n                              >\r\n                                {sorted.map((item, l) => (\r\n                                  <DataCards\r\n                                    key={l}\r\n                                    groupData={groupData}\r\n                                    colGroupItem={colGroupItem}\r\n                                    colGroupKey={colGroupKey}\r\n                                    rowGroupKey={rowGroupKey}\r\n                                    item={item}\r\n                                    mainKey={mainKey}\r\n                                    timeKey={timeKey}\r\n                                    timeColor={timeColor}\r\n                                  />\r\n                                ))}\r\n                              </GradientGroup>\r\n                            )\r\n                          })}\r\n                        </Flex>\r\n                      )\r\n                    })}\r\n                  </Flex>\r\n                </Flex>\r\n              )\r\n            })}\r\n          </Flex.HStack>\r\n          <Flex.HStack mt=\"10px\" justifyContent=\"flex-end\" alignItems=\"center\" spacing=\"16px\">\r\n            <NoteBox bg={timeColor}>{last(timeKey.split('.'))}</NoteBox>\r\n            <NoteBox bg=\"#9fa0a0\">NOTE</NoteBox>\r\n            <Text>Roapmaps are subject to change.</Text>\r\n          </Flex.HStack>\r\n        </Flex>\r\n      </Flex>\r\n    </PageSimulator>\r\n  )\r\n}\r\n\r\nexport default PortfolioTableRender\r\n","import groupBy from 'lodash/groupBy'\r\nimport last from 'lodash/last'\r\nimport upperFirst from 'lodash/upperFirst'\r\nimport React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Box from 'components/Box'\r\nimport PageSimulator from 'containers/PageSimulator'\r\nimport PageTitle from 'containers/PageTitle'\r\nimport sortSize from 'utils/sortSize'\r\nimport Flex from 'components/Flex'\r\nimport NoteBox from 'containers/NoteBox'\r\nimport Text from 'components/Text'\r\n\r\nconst StyledTable = styled.table`\r\nth, td {\r\n  border: 3px solid white;\r\n}\r\nbackground: linear-gradient(0deg, rgba(227,227,227,0.85), rgba(238,238,238,0.3));\r\n`\r\nconst parseVolt = /(\\d+(.\\d+)?)/\r\nconst parseSize = s => /^(\\d+)(\\D+)$/.exec(s)\r\n\r\nconst voltSort = (a, b) => parseVolt.exec(b)?.[1] - parseVolt.exec(a)?.[1]\r\n\r\nconst CompactPortfolio = ({\r\n  name,\r\n  colGroupKey,\r\n  rowGroupKey,\r\n  mainKey,\r\n  timeKey,\r\n  timeColor,\r\n  data,\r\n}) => {\r\n  const rows = useMemo(() => {\r\n    const flatData = data.reduce((all, d) => all.concat(d[1]), [])\r\n    const rowGroup = groupBy(flatData, rowGroupKey)\r\n    return sortSize(Object.keys(rowGroup))\r\n  }, [data, rowGroupKey])\r\n  const groupedByCol = useMemo(() => data.map(([, d]) => {\r\n    const grouped = groupBy(d, colGroupKey)\r\n    return Object.entries(grouped).sort(voltSort)\r\n  }), [data, colGroupKey])\r\n\r\n  return (\r\n    <PageSimulator name={`${name}-portfolio-table`}>\r\n      <Box>\r\n        <PageTitle>{`${upperFirst(name)} Memery Portfolio`}</PageTitle>\r\n        <Box\r\n          position=\"absolute\"\r\n          left=\"86px\"\r\n          top=\"125px\"\r\n          right=\"86px\"\r\n        >\r\n          <StyledTable >\r\n            <thead>\r\n              <tr>\r\n                {[['Product', 1]].concat(data.map((d, i) => [d[0], groupedByCol[i].length])).map(([h, colSpan], i) => (\r\n                  <Box\r\n                    as=\"th\"\r\n                    key={i}\r\n                    bg=\"#c63b38\"\r\n                    fontSize=\"25px\"\r\n                    fontWeight=\"900\"\r\n                    color=\"white\"\r\n                    colSpan={colSpan}\r\n                    px=\"1em\"\r\n                    py=\"0.5em\"\r\n                    whiteSpace=\"nowrap\"\r\n                    style={{\r\n                      borderLeftWidth: i > 0 && '10px',\r\n                    }}\r\n                  >{h}</Box>\r\n                ))}\r\n              </tr>\r\n              <tr>\r\n                <Box\r\n                  fontWeight=\"900\"\r\n                  fontSize=\"15px\"\r\n                  as=\"th\"\r\n                  color=\"white\"\r\n                  bg=\"#848484\"\r\n                  py=\"0.25rem\"\r\n                >Voltage/<br />Density</Box>\r\n                {data.map}\r\n                {groupedByCol.reduce((all, g, i) => {\r\n                  return all.concat(g.map(([h], j) => (\r\n                    <Box\r\n                      as=\"th\"\r\n                      key={i + h}\r\n                      fontWeight=\"700\"\r\n                      fontSize=\"23px\"\r\n                      bg=\"#cacaca\"\r\n                      width=\"197px\"\r\n                      style={{\r\n                        borderLeftWidth: j === 0 && '10px',\r\n                      }}\r\n                    >\r\n                      {h}\r\n                    </Box>\r\n                  )))\r\n                }, [])}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((row) => {\r\n                const res = parseSize(row)\r\n                return (\r\n                  <tr key={row}>\r\n                    <Box\r\n                      as=\"td\"\r\n                      bg=\"#cacaca\"\r\n                      fontSize=\"19px\"\r\n                      fontWeight=\"bold\"\r\n                      textAlign=\"center\"\r\n                      height=\"58px\"\r\n                    >\r\n                      {res ? `${res[1]} ${res[2]}` : row}\r\n                    </Box>\r\n                    {groupedByCol.reduce((all, g, i) => {\r\n                      return all.concat(g.map(([, proucts], j) => (\r\n                        <Box\r\n                          as=\"td\"\r\n                          key={`${i}${j}`}\r\n                          fontWeight=\"500\"\r\n                          fontSize=\"19px\"\r\n                          height=\"58px\"\r\n                          width=\"197px\"\r\n                          style={{\r\n                            borderLeftWidth: j === 0 && '10px',\r\n                          }}\r\n                          px=\"0.5em\"\r\n                          // bg=\"#f9f9f9\"\r\n                        >\r\n                          {proucts.filter(p => p[rowGroupKey] === row).map((p, k) => (\r\n                            <Box key={k} fontFamily=\"'Noto Sans Mono', monospace\" lineHeight=\"1.25\" whiteSpace=\"nowrap\">\r\n                              {p[mainKey]}\r\n                              {p[timeKey] && (\r\n                                <Box\r\n                                  verticalAlign=\"middle\"\r\n                                  display=\"inline-block\"\r\n                                  px=\"0.25em\"\r\n                                  fontSize=\"15px\"\r\n                                  fontWeight=\"900\"\r\n                                  color=\"white\"\r\n                                  bg={timeColor}\r\n                                  ml=\"0.5em\"\r\n                                  width=\"60px\"\r\n                                  textAlign=\"center\"\r\n                                >\r\n                                  {p[timeKey]}</Box>\r\n                              )}\r\n                            </Box>\r\n                          ))}\r\n                        </Box>\r\n                      )))\r\n                    }, [])}\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </StyledTable>\r\n          <Flex.HStack mt=\"16px\" justifyContent=\"flex-end\" alignItems=\"center\" spacing=\"16px\">\r\n            <NoteBox bg={timeColor}>{last(timeKey.split('.'))}</NoteBox>\r\n            <NoteBox bg=\"#9fa0a0\">NOTE</NoteBox>\r\n            <Text>Roapmaps are subject to change.</Text>\r\n          </Flex.HStack>\r\n        </Box>\r\n      </Box>\r\n    </PageSimulator>\r\n  )\r\n}\r\n\r\nexport default CompactPortfolio\r\n","import groupBy from 'lodash/groupBy'\r\nimport merge from 'lodash/merge'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport styled from 'styled-components';\r\n\r\nimport Box from 'components/Box'\r\nimport Flex from 'components/Flex'\r\nimport Text from 'components/Text'\r\nimport Input from 'components/Input';\r\nimport PortfolioTableRender from './PortfolioTableRender'\r\nimport sortSize from 'utils/sortSize'\r\nimport CompactPortfolio from './CompactPortfolio';\r\n\r\nconst mainKeyFormat = d => d.substring(1).replace(/\\[[^\\]]+\\]/g, '')\r\nconst mainKey = ['Portfolio.Part Number', 'Product']\r\nconst groupKey = 'Product Line'\r\nconst densityKey = 'Density'\r\n\r\nconst subGroupKey = {\r\n  dram: 'Technology Node (nm)',\r\n  flash: 'Voltage',\r\n}\r\n\r\nconst timemark = {\r\n  dram: 'Portfolio.MP',\r\n  flash: 'Portfolio.Sample',\r\n}\r\n\r\nconst timeColors = {\r\n  dram: '#a4ccdb',\r\n  flash: '#2f6eba',\r\n}\r\n\r\nconst StyledTable = styled.table`\r\nwidth: 100%;\r\nth {\r\n  border-bottom: 1px solid #ccc;\r\n}\r\ntd, th {\r\n  padding: 0.25em;\r\n}\r\ntd:first-of-type {\r\n  width: 5em;\r\n}\r\ninput {\r\n  max-width: 3em;\r\n}\r\n`\r\n\r\nconst lowerMatch = (a, b) => a.toLowerCase() === b.toLowerCase()\r\n\r\nconst GroupTable = ({ label, onSetGroup, groups, items }) => {\r\n  return (\r\n    <StyledTable>\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th>{label}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.map((item, i) => (\r\n          <tr key={i} p=\"0.5em\">\r\n            <td>\r\n              {item}\r\n            </td>\r\n            <td>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={groups?.[item] || '1'}\r\n                onChange={e => onSetGroup({ [item]: e.target.value })}\r\n              />\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </StyledTable>\r\n  )\r\n}\r\n\r\nconst GroupCol = ({\r\n  data,\r\n  groupName,\r\n  name,\r\n  colGroup,\r\n  onSetColGroup,\r\n  rowGroup,\r\n  onSetRowGroup,\r\n}) => {\r\n  const colGroupItems = useMemo(() => Object.keys(groupBy(data, subGroupKey[name])), [data, name])\r\n  const rowGroupItems = useMemo(() => sortSize(Object.keys(groupBy(data, densityKey))), [data])\r\n  return (\r\n    <Box border=\"1px solid\" p=\"0.5em\">\r\n      <Box textAlign=\"center\">{groupName}</Box>\r\n      <hr />\r\n      <GroupTable\r\n        label=\"Col\"\r\n        onSetGroup={onSetColGroup}\r\n        groups={colGroup}\r\n        items={colGroupItems}\r\n      />\r\n      <Box height=\"1em\" />\r\n      <GroupTable\r\n        label=\"Row\"\r\n        onSetGroup={onSetRowGroup}\r\n        groups={rowGroup}\r\n        items={rowGroupItems}\r\n      />\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst PortfolioPage = ({ data, name, variant, headerKeys, filterKey }) => {\r\n  const getMatchAccesor = useCallback((key) => {\r\n    const keyMap = key?.split('.') ?? []\r\n    return keyMap.reduce((prev, k) => {\r\n      const found = prev?.find(({ Header }) => lowerMatch(Header, k))\r\n      if (found?.columns) return found?.columns\r\n      return found\r\n    }, headerKeys)\r\n  }, [headerKeys])\r\n  const extractedData = useMemo(() => {\r\n    const theFilter = getMatchAccesor(filterKey)\r\n    const keys = [\r\n      groupKey,\r\n      densityKey,\r\n      subGroupKey[name],\r\n      timemark[name],\r\n    ]\r\n    const valueGetters = keys.map(getMatchAccesor)\r\n    const mainKeyGetter = mainKey.map(getMatchAccesor)\r\n    return data.slice(2).filter(d => !theFilter || theFilter.accessor(d) === 'TRUE').reduce((all, d, j) => {\r\n      const pName = mainKeyGetter[0]?.accessor(d) || mainKeyGetter[1].accessor(d)\r\n      return all.concat(\r\n        pName?.split('\\n').map((m) => {\r\n          return Object.fromEntries([\r\n            [mainKey, mainKeyFormat(m)],\r\n            ...keys.map((k, i) => {\r\n              let v = valueGetters[i]?.accessor?.call(null, d)\r\n              if (v === '' && k !== groupKey && k !== timemark[name]) {\r\n                v = all[j - 1]?.[k]\r\n              }\r\n              return [k, v]\r\n            })\r\n          ])\r\n        })\r\n      )\r\n    }, []).filter(d => d?.[groupKey])\r\n  }, [data, name, filterKey, getMatchAccesor])\r\n  const groupedData = useMemo(() => groupBy(extractedData, groupKey), [extractedData])\r\n  const productGroups = useMemo(() => Object.keys(groupedData).map(g => g.trim()), [groupedData])\r\n  const [pickedGroup, setPickedGroup] = useImmer({})\r\n  const pickedGroupArr = useMemo(() => Object.keys(pickedGroup).filter((k) => pickedGroup[k]), [pickedGroup])\r\n  const [colGroup, setColGroup] = useImmer({})\r\n  const [rowGroup, setRowGroup] = useImmer({})\r\n  return (\r\n    <>\r\n      <hr />\r\n      <Text>Product Lines:</Text>\r\n      <Box mx=\"-0.5em\">\r\n        {productGroups.map((group) => group && (\r\n          <Box as=\"label\" display=\"inline-block\" m=\"0.5em\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"group\"\r\n              checked={pickedGroup[group]}\r\n              onChange={(e) => setPickedGroup(draft => {\r\n                draft[group] = e.target.checked\r\n              })}\r\n            />\r\n            <Text as=\"sapn\" ml=\"0.25rem\">{group}</Text>\r\n          </Box>\r\n        ))}\r\n        {pickedGroupArr.length > 0 && (\r\n          variant === 'compact' ? (\r\n            <CompactPortfolio\r\n              data={pickedGroupArr.map(g => [g, groupedData[g]])}\r\n              colGroupKey={subGroupKey[name]}\r\n              rowGroupKey={densityKey}\r\n              mainKey={mainKey}\r\n              timeKey={timemark[name]}\r\n              timeColor={timeColors[name]}\r\n              name={name}\r\n            />\r\n          ) : (\r\n            <>\r\n              <Text my=\"1em\">利用下方Col跟Row可以做排版調整，同樣數字代表同一組，數字0代表隱藏</Text>\r\n              <Flex.HStack my=\"1em\" sapcing=\"1em\">\r\n                {pickedGroupArr.map(g => (\r\n                  <GroupCol\r\n                    key={g}\r\n                    data={groupedData[g]}\r\n                    groupName={g}\r\n                    name={name}\r\n                    colGroup={colGroup[g]}\r\n                    onSetColGroup={d => setColGroup(draft => {\r\n                      draft = merge(draft, { [g]: d })\r\n                    })}\r\n                    rowGroup={rowGroup[g]}\r\n                    onSetRowGroup={d => setRowGroup(draft => {\r\n                      draft = merge(draft, { [g]: d })\r\n                    })}\r\n                  />\r\n                ))}\r\n              </Flex.HStack>\r\n              <Box mt=\"1em\">\r\n                <PortfolioTableRender\r\n                  data={pickedGroupArr.map(g => [g, groupedData[g]])}\r\n                  colGroup={colGroup}\r\n                  rowGroup={rowGroup}\r\n                  colGroupKey={subGroupKey[name]}\r\n                  rowGroupKey={densityKey}\r\n                  mainKey={mainKey}\r\n                  timeKey={timemark[name]}\r\n                  timeColor={timeColors[name]}\r\n                  name={name}\r\n                />\r\n              </Box>\r\n            </>\r\n          )\r\n        )}\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PortfolioPage\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport Box from 'components/Box'\r\nimport DramDataTable from './DramDataTable'\r\nimport PageSimulator from './PageSimulator'\r\n\r\nconst DramDownloader = ({\r\n  headerKeys,\r\n  pages,\r\n  headerRow,\r\n  doubleHeader,\r\n  bodyData,\r\n  quater,\r\n  year,\r\n  type,\r\n  half,\r\n  noteText,\r\n  notes,\r\n  name,\r\n  onDownloaded,\r\n}) => {\r\n  const [page, setPage] = useState(0)\r\n  const downloadRef = useRef()\r\n  useEffect(() => {\r\n    if (downloadRef.current) {\r\n      downloadRef.current().then(() => {\r\n        if (page === pages.length - 1) {\r\n          onDownloaded()\r\n        } else {\r\n          setPage(page + 1)\r\n        }\r\n      })\r\n    }\r\n  }, [page])\r\n  return (\r\n    <Box overflow=\"hidden\" width=\"0\" height=\"0\">\r\n      <Box width=\"1920px\">\r\n        <PageSimulator key={page} name={`${name}-${type}y-${page + 1}`} downloadRef={downloadRef}>\r\n          <DramDataTable\r\n            headerKeys={headerKeys}\r\n            data={pages[page]}\r\n            headerRow={headerRow}\r\n            doubleHeader={doubleHeader}\r\n            bodyData={bodyData}\r\n            quater={quater}\r\n            year={year}\r\n            type={type}\r\n            half={half}\r\n            noteText={noteText}\r\n            // noteHeader={noteHeader}\r\n            notes={notes}\r\n          />\r\n        </PageSimulator>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default DramDownloader\r\n","import React, { useState, useMemo } from 'react'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport { getMonth, getQuarter, getYear } from 'date-fns';\r\nimport { compact, concat, floor, isNumber, range, set, size } from 'lodash'\r\nimport { Link as GatsbyLink } from 'gatsby'\r\n\r\nimport Container from '../components/Container'\r\nimport Box from '../components/Box'\r\nimport Flex from '../components/Flex'\r\nimport Link from '../components/Link'\r\nimport Button from '../components/Button'\r\nimport Pagination from '../components/Pagination'\r\nimport { responsive } from '../components/ThemeProvider/theme';\r\n\r\nimport DramDataTable from './DramDataTable'\r\nimport PortfolioPage from './PortfolioPage'\r\nimport SheetLoader from './SheetLoader'\r\n\r\n// import CompareSummary from './CompareSummary';\r\nimport useTableHeader from 'hooks/useTableHeader';\r\nimport PageSimulator from './PageSimulator';\r\nimport DramDownloader from './DramDownloader';\r\n\r\n// const colorKeys = [{}, {}]\r\n// const getColor = (name, i = 0) => {\r\n//   const keys = colorKeys[i]\r\n//   if (typeof keys[name] !== 'number') {\r\n//     keys[name] = (max(Object.values(keys)) || 0) + 1\r\n//   }\r\n//   return keys[name]\r\n// }\r\n\r\n// const switchHeader = (d) => d.map((d, i) => ({\r\n\r\n// }))\r\n\r\nconst noteArr = (notes) => {\r\n  const fuc = (d) => d.reduce((res, note, i) => {\r\n    let key = i > res.length ? res.length - 1 : i\r\n    if(note[0] == '-') {\r\n      if(Boolean(res?.[key])) {\r\n        res[key].push(note.substring(1))\r\n      } else {\r\n        res.push([note.substring(1)])\r\n      }\r\n      return res\r\n    }\r\n    res.push(note)\r\n    return res\r\n  }, [])\r\n  const transform = fuc(notes)\r\n  return transform\r\n}\r\n\r\nconst SheetData = ({ selectedSheet, data: rawData, compareSheetData, name }) => {\r\n  const types = useMemo(() => [\r\n    { title: '3年', value: 3 },\r\n    { title: '7年', value: 7 },\r\n  ].concat(name === 'flash' ? [\r\n    { title: '總表', value: 'portfolio' },\r\n    { title: '大總表', value: 'compact' },\r\n  ] : [\r\n    { title: '3年總表', value: 'portfolio' },\r\n    { title: '7年總表', value: 'portfolio-7' },\r\n  ]), [name])\r\n\r\n  const notes = useMemo(() => {\r\n    if(name === 'flash' || name === 'mcp') return ['Sample', 'MP']\r\n    return ['ES', 'CS', 'MP']\r\n  }, [name])\r\n  const [type, setType] = useState(3)\r\n  const [downloading, setDownloading] = useState()\r\n  const [page, setPage] = useState(0)\r\n  const year = getYear(new Date())\r\n  const quater = getQuarter(new Date())\r\n  const data = useMemo(() => {\r\n    if (!rawData) return null\r\n    if (!rawData[0][0]) return rawData.slice(1)\r\n    const appearInSeven = rawData[0].findIndex(d => d === '7yrs')\r\n    const appearInPortfolio = rawData[1].findIndex(d => type === 'portfolio' ? d === '3yrs' : d === '7yrs')\r\n    if(type == 7) return rawData.filter(d => d[appearInSeven] != 'FALSE')\r\n    if(type == 'portfolio' || type == 'portfolio-7') return rawData.filter(d => d[appearInPortfolio] != 'FALSE')\r\n    return rawData\r\n  }, [rawData, type])\r\n  // const half = getMonth(new Date()) > 6 ? 2 : 1\r\n  const doubleHeader = useMemo(() => data && data[0].some(h => !h), [data])\r\n  const tableData = useMemo(() => data ? data.slice(doubleHeader ? 2 : 1) : [], [data, doubleHeader])\r\n  const pages = useMemo(() => {\r\n    return tableData.reduce((all, row) => {\r\n      let i = all.length - 1\r\n      if (row[0]) {\r\n        i = all.push([]) - 1\r\n      }\r\n      all[i]?.push(row)\r\n      return all\r\n    }, [])\r\n  }, [tableData])\r\n  const yearRow = useMemo(() => range(type * (type < 7 ? 4 : 2)).map((n) => {\r\n    if (!n) {\r\n      return year\r\n    }\r\n    if (((type < 7 ? quater : 1) + n) % (type < 7 ? 4 : 2) === 1) {\r\n      return year + floor(((type < 7 ? quater : 1) + n) / (type < 7 ? 4 : 2))\r\n    } else {\r\n      return ''\r\n    }\r\n  }), [type, quater])\r\n  const roadmapheaderRow = useMemo(() => data && isNumber(type) && name === 'mcp' ? (\r\n    [\r\n      data[0][data[0].findIndex(d => /Package Ball/i.test(d))],\r\n      data[0][data[0].findIndex(d => /Product/i.test(d))],\r\n      data[0][data[0].findIndex(d => /SLC NAND/i.test(d))],\r\n      '',\r\n      data[0][data[0].findIndex(d => /LPDDR2/i.test(d))],\r\n      '',\r\n      ...yearRow\r\n    ]\r\n  ) : (\r\n    concat(\r\n      name === 'flash' ? compact([\r\n        pages?.[page]?.[0][data[0].findIndex(d => /flash/i.test(d))] && data[0][data[0].findIndex(d => /flash/i.test(d))],\r\n        pages?.[page]?.[0][data[0].findIndex(d => /S-NOR Density/i.test(d))] && data[0][data[0].findIndex(d => /S-NOR Density/i.test(d))],\r\n        pages?.[page]?.[0][data[0].findIndex(d => /S-NAND Density/i.test(d))] && data[0][data[0].findIndex(d => /S-NAND Density/i.test(d))],\r\n        pages?.[page]?.[0][data[0].findIndex(d => /^Density/i.test(d))] && data[0][data[0].findIndex(d => /^Density/i.test(d))],\r\n      ]) : [data?.[0][data[0].findIndex(d => /^Density/i.test(d))]], [data?.[0][data[0].findIndex(d => /product/i.test(d))]],\r\n        name === 'flash' ? (pages?.[page]?.[0][data?.[0].findIndex(key => /Description/i.test(key))] ? 'Description' : []) : 'Description',\r\n        [...yearRow]\r\n      )\r\n    )\r\n  , [data, type, year, quater, page, pages, name])\r\n\r\n  const headerKeys = useTableHeader(data)\r\n  const headerRow = useMemo(() => {\r\n    if (doubleHeader) {\r\n      let groupMemo = []\r\n      // 空白代表要group ['a', 'b', '', 'c']\r\n      // b後面的空白要跟b group一起，所以先反轉陣列，從後面檢查回來，只要是空白，就等到下一個值出現然後把他們group起來\r\n      return roadmapheaderRow.slice(0).reverse().reduce((all, h, i) => {\r\n        // 檢查有沒有值\r\n        if (h) {\r\n          // 如果年份只有一季，但還是要有第二列\r\n          if (isNumber(h) && !groupMemo.length) {\r\n            all.push({\r\n              Header: h,\r\n              columns: [{\r\n                Header: type < 7 ? (i ? 'Q4' : 'Q1') : (i ? 'H2' : 'H1'),\r\n                id: `${h}-${1}`,\r\n              }],\r\n            })\r\n            return all\r\n          }\r\n          // 檢查有沒有之前先標記要變成group的\r\n          if (groupMemo.length) {\r\n            // if true 把現在這一格也加入group\r\n            if(isNumber(h)) {\r\n              groupMemo.push(i)\r\n              all.push({\r\n                Header: h,\r\n                columns: groupMemo.slice().reverse().map((j, i, { length }) => ({\r\n                  Header: type < 7 ? `Q${(4 - length) + i + 1}` : `H${i + 1}`,\r\n                  // accessor: d => d[colLength - j - 1],\r\n                  id: `${h}-${i + 1}`,\r\n                })),\r\n              })\r\n            }\r\n            if(!isNumber(h) && name === 'mcp') {\r\n              groupMemo.push(i)\r\n              all.push({\r\n                Header: h,\r\n                columns: groupMemo.map((j, i) => ({\r\n                  Header: i ? 'I/O' : 'Density',\r\n                  // accessor: d => d[colLength - j - 1],\r\n                  id: `${h}-${i + 1}`,\r\n                })),\r\n              })\r\n            }\r\n            // 清空group的標記\r\n            groupMemo = []\r\n          } else {\r\n            // if false 就是一般的header\r\n            all.push({ Header: h, id: i })\r\n          }\r\n        } else {\r\n          // 沒有值，之後要跟別人group，先暫存起來\r\n          groupMemo.push(i)\r\n        }\r\n        return all\r\n      }, [])\r\n        .reverse() // 最後記得再反轉回來\r\n    }\r\n    return []\r\n  }, [data, doubleHeader, type, roadmapheaderRow, name])\r\n  const noteText = useMemo(() => {\r\n    if (!data) return []\r\n    const noteIndex = data[0].findIndex(d => d.toLocaleLowerCase() === 'note')\r\n    if (noteIndex < 0) return []\r\n    return pages && (pages?.[page]?.[0]?.[noteIndex]?.split('\\n') || '')\r\n  }, [data, pages, page])\r\n  const feature = useMemo(() => {\r\n    if (!data) return []\r\n    const featureIndex = data[0].findIndex(d => d.toLocaleLowerCase() === 'feature')\r\n    if (featureIndex < 0) return []\r\n    return pages && (pages?.[page]?.[0]?.[featureIndex]?.split('\\n') || '')\r\n  }, [data, pages, page])\r\n  const bodyData = useMemo(() => data && pages[page]?.reduce((res, d) => {\r\n    if(name == 'mcp') {\r\n      res.push([\r\n        d[data[0].findIndex(d => /Package Ball/i.test(d))],\r\n        d[data[0].findIndex(d => /Product/i.test(d))],\r\n        d[data[0].findIndex(d => /SLC NAND/i.test(d))],\r\n        d[data[0].findIndex(d => /SLC NAND/i.test(d)) + 1],\r\n        d[data[0].findIndex(d => /LPDDR2/i.test(d))],\r\n        d[data[0].findIndex(d => /LPDDR2/i.test(d)) + 1],\r\n        { text: '', col: type > 3 ? 14 : 12, }\r\n      ])\r\n      return res\r\n    }\r\n    res.push(concat((name === 'flash' ? concat(\r\n      pages?.[page][0][data[0].findIndex(d => /flash/i.test(d))] ? [d[data[0].findIndex(d => /flash/i.test(d))]] : [],\r\n      pages?.[page][0][data[0].findIndex(d => /S-NOR Density/i.test(d))] ? [d[data[0].findIndex(d => /S-NOR Density/i.test(d))]] : [],\r\n      pages?.[page][0][data[0].findIndex(d => /S-NAND Density/i.test(d))] ? [d[data[0].findIndex(d => /S-NAND Density/i.test(d))]] : [],\r\n      pages?.[page][0][data[0].findIndex(d => /^Density/i.test(d))] ? d[data[0].findIndex(d => /^Density/i.test(d))] : []\r\n      ) : [d[data[0].findIndex(d => /^Density/i.test(d))]]), [\r\n      d[data[0].findIndex(d => /Product/i.test(d))],\r\n      (name !== 'flash' ? `${d[data[0].findIndex(d => /I\\/O Width/i.test(d))] + ' ' + d[data[0].findIndex(d => /Voltage/i.test(d))] + `\\n` + d[data[0].findIndex(d => /Speed/i.test(d))]}` : (\r\n        d[data[0].findIndex(key => /Description/i.test(key))]\r\n      )),\r\n      {\r\n        text: name !== 'flash' ? [\r\n          data[0].findIndex(d => /Technology Node/i.test(d)),\r\n          data[0].findIndex(d => /Components/i.test(d)),\r\n          data[0].findIndex(d => /Package/i.test(d))\r\n        ].map(i => d[i]).join(', ') : '',\r\n        col: type > 3 ? 14 : 12,\r\n        nrnd: d[data[0].findIndex(d => /NRND/i.test(d))] === 'TRUE',\r\n        nm: name === 'flash' && d[data[0].findIndex(d => /Technology/i.test(d))],\r\n      },\r\n    ]))\r\n    return res\r\n  }, []), [pages, page, type, data])\r\n  // const noteHeader = useMemo(() => data && pages[page]?.reduce((res, d) => {\r\n  //   d.slice(data?.[0].findIndex(header => header == 'ES'), (data?.[0].findIndex(header => header == 'MP') + 2)).forEach((content, i) => {\r\n  //     if(content && !res.includes(notes[floor(i/2)])) {\r\n  //       set(res, [floor(i/2)], notes[floor(i/2)])\r\n  //     }\r\n  //   })\r\n  //   return res\r\n  // }, []) ,[data, pages, page])\r\n  const compareData = useMemo(() => (compareSheetData) ? compareSheetData.slice(doubleHeader ? 2 : 1) : [], [compareSheetData, doubleHeader])\r\n  // const [compareMark, comparePages] = useMemo(() => {\r\n  //   if (!size(compareData)) return [null, null]\r\n  //   let page = 0\r\n  //   return compareData.reduce(([all, pages], row) => {\r\n  //     if (row[0]) page += 1\r\n  //     all[row[1]] = row\r\n  //     pages[row[1]] = page\r\n  //     return [all, pages]\r\n  //   }, [{}, {}])\r\n  // }, [compareData])\r\n  // console.log(bodyData, headerRow, roadmapheaderRow)\r\n  return (\r\n    <Tabs style={{ marginTop: '2em' }}>\r\n      <TabList>\r\n        <Tab>簡報產生器</Tab>\r\n        <Tab disabled={!compareData.length}>更新對照表</Tab>\r\n      </TabList>\r\n      <TabPanel>\r\n        <Flex my=\"1em\" alignItems=\"center\">\r\n          {/* <Text mr=\"0.5em\">起始年分</Text>\r\n            <Box width=\"12em\">\r\n              <input\r\n                style={{ lineHeight: 2 }}\r\n                type=\"number\"\r\n                value={startYear}\r\n                onChange={e => setStartYear(e.target.value)}\r\n              />\r\n            </Box> */}\r\n          {/* <Input onChange={(e) => setIndex(e.target.value)} />\r\n          <Box>{arrayfunc(+index)}</Box> */}\r\n          {selectedSheet && types.map((t, i) => name !== 'mcp' && (\r\n            <Button.Outline\r\n              active={type === t.value}\r\n              mx=\"0.25em\"\r\n              onClick={() => setType(t.value)}\r\n              key={i}\r\n            >{t.title}</Button.Outline>\r\n          ))}\r\n        </Flex>\r\n        {typeof type === 'number' && pages && pages[page] && (\r\n          <>\r\n            <Pagination\r\n              pageCount={pages.length}\r\n              pageRangeDisplayed={5}\r\n              marginPagesDisplayed={2}\r\n              onPageChange={({ selected }) => setPage(selected)}\r\n            />\r\n            <PageSimulator name={`${name}-${type}y-${page + 1}`}>\r\n              <DramDataTable\r\n                headerKeys={headerKeys}\r\n                data={pages[page]}\r\n                headerRow={headerRow}\r\n                doubleHeader={doubleHeader}\r\n                bodyData={bodyData}\r\n                quater={quater}\r\n                year={year}\r\n                type={type}\r\n                // half={half}\r\n                noteText={noteText}\r\n                feature={feature}\r\n                notes={notes}\r\n                name={name}\r\n              />\r\n            </PageSimulator>\r\n            <Box>\r\n              <Button onClick={() => setDownloading(true)} disabled={downloading}>\r\n                批次下載{downloading ? '中...' : ` (${pages.length}頁)`}\r\n              </Button>\r\n              {downloading && (\r\n                <DramDownloader\r\n                  headerKeys={headerKeys}\r\n                  pages={pages}\r\n                  headerRow={headerRow}\r\n                  doubleHeader={doubleHeader}\r\n                  bodyData={bodyData}\r\n                  quater={quater}\r\n                  year={year}\r\n                  type={type}\r\n                  // half={half}\r\n                  noteText={noteText}\r\n                  notes={notes}\r\n                  name={name}\r\n                  onDownloaded={() => setDownloading(false)}\r\n                />\r\n              )}\r\n            </Box>\r\n            {/* <PageControl\r\n              key={selectedSheet}\r\n              allData={tableData}\r\n              headerRow={headerRow}\r\n              page={page}\r\n              data={pages[page]}\r\n              compareMark={compareMark}\r\n              sheetName={selectedSheet}\r\n              startYear={year}\r\n            /> */}\r\n          </>\r\n        )}\r\n        {/^portfolio/.test(type) && data && (\r\n          <PortfolioPage\r\n            data={data}\r\n            name={name}\r\n            headerKeys={headerKeys}\r\n            filterKey={`Portfolio.${name === 'flash' ? 'Sub' : (type === 'portfolio-7' ? '7yrs' : '3yrs')}`}\r\n          />\r\n        )}\r\n        {type === 'compact' && data && (\r\n          <PortfolioPage data={data} name={name} headerKeys={headerKeys} filterKey=\"Portfolio.All\" variant=\"compact\" />\r\n        )}\r\n      </TabPanel>\r\n      {/* <TabPanel>\r\n        <CompareSummary\r\n          data={pages}\r\n          headerRow={headerRow}\r\n          compareMark={compareMark}\r\n          sheetName={selectedSheet}\r\n          comparePages={comparePages}\r\n        />\r\n      </TabPanel> */}\r\n    </Tabs>\r\n  )\r\n}\r\n\r\nconst DramPage = ({ name = 'dram' }) => {\r\n  return (\r\n    <Container>\r\n      <Link as={GatsbyLink} to=\"/\">\r\n        {`< Home`}\r\n      </Link>\r\n      <SheetLoader name={name}>\r\n        <SheetData />\r\n      </SheetLoader>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default DramPage\r\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getYear\n * @category Year Helpers\n * @summary Get the year of the given date.\n *\n * @description\n * Get the year of the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which year is 2 July 2014?\n * const result = getYear(new Date(2014, 6, 2))\n * //=> 2014\n */\n\nexport default function getYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  return toDate(dirtyDate).getFullYear();\n}","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var root = require('./_root'),\n    toInteger = require('./toInteger'),\n    toNumber = require('./toNumber'),\n    toString = require('./toString');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite,\n    nativeMin = Math.min;\n\n/**\n * Creates a function like `_.round`.\n *\n * @private\n * @param {string} methodName The name of the `Math` method to use when rounding.\n * @returns {Function} Returns the new round function.\n */\nfunction createRound(methodName) {\n  var func = Math[methodName];\n  return function(number, precision) {\n    number = toNumber(number);\n    precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n    if (precision && nativeIsFinite(number)) {\n      // Shift with exponential notation to avoid floating-point issues.\n      // See [MDN](https://mdn.io/round#Examples) for more details.\n      var pair = (toString(number) + 'e').split('e'),\n          value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n      pair = (toString(value) + 'e').split('e');\n      return +(pair[0] + 'e' + (+pair[1] - precision));\n    }\n    return func(number);\n  };\n}\n\nmodule.exports = createRound;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","var arrayPush = require('./_arrayPush'),\n    baseFlatten = require('./_baseFlatten'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray');\n\n/**\n * Creates a new array concatenating `array` with any additional arrays\n * and/or values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to concatenate.\n * @param {...*} [values] The values to concatenate.\n * @returns {Array} Returns the new concatenated array.\n * @example\n *\n * var array = [1];\n * var other = _.concat(array, 2, [3], [[4]]);\n *\n * console.log(other);\n * // => [1, 2, 3, [4]]\n *\n * console.log(array);\n * // => [1]\n */\nfunction concat() {\n  var length = arguments.length;\n  if (!length) {\n    return [];\n  }\n  var args = Array(length - 1),\n      array = arguments[0],\n      index = length;\n\n  while (index--) {\n    args[index - 1] = arguments[index];\n  }\n  return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n}\n\nmodule.exports = concat;\n","var createRound = require('./_createRound');\n\n/**\n * Computes `number` rounded down to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round down.\n * @param {number} [precision=0] The precision to round down to.\n * @returns {number} Returns the rounded down number.\n * @example\n *\n * _.floor(4.006);\n * // => 4\n *\n * _.floor(0.046, 2);\n * // => 0.04\n *\n * _.floor(4060, -2);\n * // => 4000\n */\nvar floor = createRound('floor');\n\nmodule.exports = floor;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n"],"names":["TO_STRING_TAG_SUPPORT","isCallable","classofRaw","TO_STRING_TAG","wellKnownSymbol","$Object","Object","CORRECT_ARGUMENTS","arguments","module","exports","it","O","tag","result","undefined","key","error","tryGet","callee","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","value","propertyKey","f","uncurryThis","aCallable","NATIVE_BIND","bind","fn","that","apply","classof","getMethod","Iterators","ITERATOR","call","anObject","tryToString","getIteratorMethod","$TypeError","TypeError","argument","usingIterator","iteratorMethod","length","ArrayPrototype","Array","prototype","isArrayIteratorMethod","lengthOfArrayLike","isPrototypeOf","getIterator","iteratorClose","Result","stopped","this","ResultPrototype","iterable","unboundFunction","options","iterator","iterFn","index","next","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","done","kind","innerResult","innerError","test","String","$","iterate","createProperty","target","stat","fromEntries","obj","k","v","StyledTable","styled","group","replaceSup","t","replace","noteBg","mp","cs","es","sample","bodybg","noteFunc","noteArr","groups","reduce","g","n","startsWith","lastGroup","push","substring","Box","as","pl","map","i","dangerouslySetInnerHTML","__html","data","notes","bodyData","quater","year","type","headerRow","headerKeys","noteText","feature","name","scale","useState","nmGroup","setNmGroup","numberIndex","useMemo","res","d","isNumber","Header","headerWidth","tableRef","useRef","timelineData","dateGetter","find","some","columns","dStr","accessor","parseDate","rowSpansfuc","reverse","h","set","useEffect","current","masterBox","getBoundingClientRect","cells","querySelectorAll","cellGroup","forEach","cell","nm","dataset","boundBox","boxCenter","top","height","currentGroup","left","right","Math","min","bottom","max","position","pr","width","ref","Flex","style","border","borderLeft","alignItems","writingMode","textRrientation","transform","PageTitle","pt","flex","background","fontSize","borderRight","color","bg","rowSpan","colSpan","body","isObject","col","overflow","className","borderBottom","borderTop","DramTimeline","startYear","startQuarter","yearSpan","colors","toLocaleLowerCase","text","nrnd","Text","fontWeight","fill","minHeight","justifyContent","px","flexDirection","ml","p","mb","textAlign","sizes","gb","getSize","s","unit","toLowerCase","arr","sort","a","b","getGroupItems","groupMap","groupKey","keys","groupBy","all","joinName","names","glue","commonUnit","u","includes","last","join","CardCell","children","props","py","DataCards","groupData","mainKey","timeKey","colGroupItem","colGroupKey","rowGroupKey","timeColor","item","scopedData","filter","my","lineHeight","whiteSpace","m","GradientGroup","colGroup","rowGroup","scaleRef","PageSimulator","spacing","groupName","colGroupItems","rowGroupItems","j","borderLeftWidth","rowGroupItem","sorted","sortSize","l","mt","NoteBox","split","parseVolt","voltSort","exec","rows","flatData","concat","groupedByCol","grouped","entries","upperFirst","row","proucts","fontFamily","verticalAlign","display","mainKeyFormat","densityKey","subGroupKey","dram","flash","timemark","timeColors","GroupTable","label","onSetGroup","items","Input","onChange","e","GroupCol","onSetColGroup","onSetRowGroup","variant","filterKey","getMatchAccesor","useCallback","prev","found","extractedData","theFilter","valueGetters","mainKeyGetter","slice","pName","groupedData","productGroups","trim","useImmer","pickedGroup","setPickedGroup","pickedGroupArr","setColGroup","setRowGroup","mx","checked","draft","sapcing","merge","pages","doubleHeader","half","onDownloaded","page","setPage","downloadRef","then","SheetData","selectedSheet","rawData","compareSheetData","types","title","setType","downloading","setDownloading","dirtyDate","requiredArgs","toDate","getFullYear","getYear","Date","getQuarter","appearInSeven","findIndex","appearInPortfolio","tableData","yearRow","roadmapheaderRow","useTableHeader","groupMemo","id","noteIndex","featureIndex","compareData","marginTop","disabled","Button","active","onClick","Pagination","pageCount","pageRangeDisplayed","marginPagesDisplayed","onPageChange","selected","Container","Link","GatsbyLink","to","SheetLoader","string","arrayPush","isFlattenable","baseFlatten","array","depth","predicate","isStrict","assignValue","castPath","isIndex","toKey","path","customizer","lastIndex","nested","newValue","objValue","start","end","baseSlice","castSlice","hasUnicode","stringToArray","toString","methodName","strSymbols","chr","charAt","trailing","root","toInteger","toNumber","nativeIsFinite","isFinite","nativeMin","func","number","precision","pair","Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","asciiToArray","unicodeToArray","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsSeq","rsSymbol","reUnicode","RegExp","match","resIndex","copyArray","args","floor","createRound","baseGetTag","isObjectLike","baseSet","createCaseFirst"],"sourceRoot":""}